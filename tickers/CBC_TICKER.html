<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>CBC Top Stories Ticker</title>
<style>
  /* Appearance */
  html,body{margin:0;padding:0}
  #ticker-wrap{
    background:#0055a4;      /* blue background */
    color:#fff;              /* white text   */
    height:40px;
    line-height:40px;
    overflow:hidden;
    font-family:Arial,sans-serif;
    font-size:16px;
    white-space:nowrap;
  }
  #ticker{
    display:inline-block;
    padding-left:100%;       /* start off-screen */
    animation:scroll 30s linear infinite;
  }
  #ticker .item{margin-right:40px}  /* gap between headlines */

  /* Scrolling animation */
  @keyframes scroll{
    0%   {transform:translateX(0)}
    100% {transform:translateX(-100%)}
  }
</style>
</head>
<body>
  <div id="ticker-wrap">
    <div id="ticker">Loadingâ€¦</div>
  </div>

  <script>
    (async () => {
      try {
        /* Use rss2json.com to avoid CORS issues */
        const url =
          'https://api.rss2json.com/v1/api.json?rss_url=http://www.cbc.ca/m/rss/topstories.xml';
        const feed = await fetch(url).then(r => r.json());

        /* Build headline list */
        const html = feed.items
          .slice(0, 15)                      // first 15 stories
          .map(i => `<span class="item">${i.title}</span>`)
          .join('');

        /* Duplicate headlines for seamless loop */
        const ticker = document.getElementById('ticker');
        ticker.innerHTML = html + html;
      } catch (err) {
        document.getElementById('ticker').textContent =
          'Unable to load CBC feed.';
      }
    })();
  </script>
</body>
</html>